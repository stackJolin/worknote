## YUV

##### 相关知识

-------------

- Y表示'明亮度'-Luminance，也就是灰阶值，U/V表示'色度'-Chrominance，描述影像色彩以及饱和度，用于指定像素的颜色。色度定义了颜色的两个方面-'色调'与'饱和度'，分别用Cr和Cb来表示。其中，Cr反映了RGB输入信号红色部分与RGB信号亮度值之间的差异。而Cb反映的是输入蓝色部分与RGB信号亮度值之间的差异

- 利用YUV色彩空间的重要性是他的亮度信号Y和色度信号U、V是分离的，如果只有Y信号量而没有U、V分量，那么这样表示的图像就是黑白灰图像。彩色电视采用YUV空间正是为了用亮度信号Y解决彩色电视机与黑白电视机的兼容问题，使黑白电视机也能接受彩色电视信号

  

##### 相比于RGB的优点

-------

- 与RGB视频信号传输相比，他的最大优点在于只需要占用极少的频宽(RGB要求三个独立的视频信号同时传输)           



##### YUV采样

------



##### YUV存储

------

YUV的存储格式有两种：

- planer平面格式：先连续存储所有像素点的Y分量，然后存储U分量，最后是V分量
- packed打包模式：每个像素的YUV分量是连续交替存储的

根据采样方式和存储格式的不同，就有了多种YUV格式。这些格式主要是基于YUV 4:2:2和YUV 4:2:0格式

- 基于YUV 4:2:2采样的格式如下：

  - YUYV格式
  - UYVY格式
  - YUV422P格式

- 基于YUV4:2:0采样的格式如下：

  ![image-20190826154030334](/Users/houlin/Library/Application Support/typora-user-images/image-20190826154030334.png)



##### YUV格式与RGB格式的换算

------

RGB转YUV：

```
Y = (0.257 * R) + (0.504 * G) + (0.098 * B) + 16
Cr = V = (0.439 * R) - (0.368 * G) - (0.071 * B) + 128
Cb = U = -( 0.148 * R) - (0.291 * G) + (0.439 * B) + 128
```

YUV转RGB

```
B = 1.164(Y - 16) + 2.018(U - 128)
G = 1.164(Y - 16) - 0.813(V - 128) - 0.391(U - 128)
R = 1.164(Y - 16) + 1.596(V - 128)
```

RGB的取值范围是0~255，Y=0~255，U=-122~+122，V=-157~+157

简化后的换算公式

RGB转YUV

```
Y = 0.299R + 0.587G + 0.114B
U'= (BY)*0.565
V'= (RY)*0.713
```

YUV转RGB

```
R = Y + 1.403V'
G = Y - 0.344U' - 0.714V'
B = Y + 1.770U'
```







##### 相关文章

------

<https://glumes.com/post/ffmpeg/understand-yuv-format/>

<https://www.cnblogs.com/renhui/p/8432612.html>

















