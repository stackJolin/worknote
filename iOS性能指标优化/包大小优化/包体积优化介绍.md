## 包体积优化介绍

-------

`iOS13`之前，苹果的`OTA`限制是`App超过200M`



主要的优化点：

- 图片资源优化

  - 图片压缩（工具：tinypng，智图）
  - 移除无用的图片资源，目前可以基本将所有的`1x`的图片全部都移除了。自动化脚本，匹配没有使用的资源
  - 大图，使用webp。(可选方案，如果App本身就使用了`libwebp`，可以使用这个方案，否则不建议，因为`libWebp`本身也占用一定的体积)
  - Xcode优化PNG
    - Compress PNG Files
    - 移除PNG文件中的无用信息
  - 将图片放入`.xcassets`

- 删除重复文件

- 大文件延迟到运行时下载，比如字体

- 代码瘦身

  - 未被使用的类和方法
  - 避免重复代码

- 于包体积相关的Xcode编译选项

- 打包上传AppStore时，开启`App Thinning`

- 对于Framework，剔除不需要的mach-o文件

- 如果有App Extension，使用动态库代替静态库

  