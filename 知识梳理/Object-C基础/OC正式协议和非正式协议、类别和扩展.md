## OC正式协议和非正式协议、类别和扩展

-----------

显然这个名词是相对于正式协议而言的。在解释非正式协议之前，先引用两段话：

《Cocoa设计模式》关于`非正式协议`的定义：

```markdown
非正式协议通常定义为NSObject的类别。类别接口中指定的方法可能会或者可能不会被框架类实际地实现。非正式协议位于一种设计灰区中。正式协议由编译器检查并且代表一种关于对象能力的保证，但是非正式协议不会做出保证----而只会给出提示。
```

苹果官方文档关于`非正式协议`的定义：

```markdown
非正式协议是NSObject类（显而易见，还包括它的子类）的类别，其所有的子类都含蓄地接受了这个协议。（类别是Objective-C的一个语言特点，可以让你在无需子类化的前提下为一个类增加方法。）非正式协议中的方法是否实现都是可选的，因此在调用非正式协议中的方法之前，需要去检查对象类是否实现了它。在Objective-C2.0中引入可选的正式协议方法之前，非正式协议是Foundation和AppKit类实现委托的唯一方式。
```

`正式协议`：

```
正式协议从概念上理解起来就简单的多了，它指的是一个以@protocol方式命名的方法列表，与非正式协议相比不同的是，它要求显示的采用协议。
```



可以得出结论：

- oc中的非正式协议，指的就是类别
- `@protocol`关键字声明的就是正式协议



#### OC中的类别和类扩展(匿名类别)

--------

类别:

```objective-c
@interface NSString (CamelCase)  //类别
-(NSString*) camelCaseString;  
@end 
```

类扩展:

```objective-c
@interface MyClass () { //类扩展  
    float value;  
}  
- (void)setValue:(float)newValue;  
@end
```



类别和类扩展的对比：

- 类扩展可以为一个类增加私有方法、私有属性、和私有成员变量。
- 分类只能增加方法，不能增加成员变量，但是可以通过运行时来添加属性



#### 成员变量和属性的区别

-------

属性对成员变量扩展了存取方法。`object-c`中，所有的成员变量应该使用的是`_`





#### 相关文章

----

https://www.bbsmax.com/A/rV57LB4jdP/

